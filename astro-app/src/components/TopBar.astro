---
import type { TopBar } from "@/interface/global";

interface Props {
  data?: TopBar;
}

const { data } = Astro.props;

// Si no existe o no está visible, no renderiza nada
if (!data || !data.isVisible) return;

// Seguridad para links externos
const isExternal = data.link?.isExternal;
const target = isExternal ? "_blank" : "_self";
const rel = isExternal ? "noopener noreferrer" : undefined;
---

<div class="w-full bg-primary/80 text-white text-base">
  <div class="max-w-7xl mx-auto px-4 py-2 flex items-center justify-center gap-4">

    <!-- Texto -->
    <p class="">
      {data.text}
    </p>

    <!-- Link / Botón -->
    {data.link?.label && data.link?.url && (
      <a
        href={data.link.url}
        target={target}
        rel={rel}
      >
        {data.link.label}
      </a>
    )}

  </div>
</div>