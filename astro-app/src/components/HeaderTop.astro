---
import type { HeaderTop as HeaderTopType } from "@/interface/global";
import Button from "@/components/ui/button.astro"

interface Props {
  data?: HeaderTopType;
}

const { data } = Astro.props;
if (!data) return;

// FunciÃ³n helper para links / botones
const getLinkProps = (link: typeof data.headerLink[number] | typeof data.button[number]) => {
  const isExternal = link.isExternal;
  return {
    target: isExternal ? "_blank" : "_self",
    rel: isExternal ? "noopener noreferrer" : undefined,
  };
};

---

<div class="w-full bg-background text-foreground py-4">
  <!-- Bloque superior: links a la izquierda, logo a la derecha -->
  <div class="flex max-w-7xl justify-between items-center mx-auto px-4">
        <!-- Logo -->
<div class="group">
  <a
  href={data.logo.url}
  target={data.logo.isExternal ? "_blank" : "_self"}
  rel={data.logo.isExternal ? "noopener noreferrer" : undefined}
>
  {data.logo.imagen && (
    <img
      src={`http://localhost:1337${data.logo.imagen.url}`}
      alt={data.logo.imagen.alternativeText ?? data.logo.label}
      class="h-14 w-auto group-hover:scale-105 duration-300 transition-transform"
    />
  )}
</a>
</div>
<div class="flex flex-col items-end">
    <!-- Links a la izquierda -->
    <nav class="flex flex-wrap gap-2 md:gap-4  px-4">
      {data.headerLink.map((link) => {
        const { target, rel } = getLinkProps(link);
        return (
          <a
            href={link.url}
            target={target}
            rel={rel}
            class="text-sm font-outfit hover:text-primary transition-colors"
          >
            {link.label}
          </a>
        );
      })}
    </nav>
    <div class="mt-2 flex flex-wrap gap-2 justify-center md:justify-start">
  {data.button.map((btn) => (
    <Button
      label={btn.label}
      href={btn.url}
      type={btn.type}
      isExternal={btn.isExternal}
    />
  ))}
</div>
  </div>
  </div>
</div>